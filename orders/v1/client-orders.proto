syntax = "proto3";
package orders.v1;

option go_package = "/proto";

service OrderService {
  rpc CreateOrder(CreateOrderRequest) returns (CreateOrderResponce);
  rpc CancelOrder(CancelOrderRequest) returns (SuccessResponse);
}

enum OrderStatus {
  STATUS_NEW = 0;
  STATUS_PROCESSING = 1;
  STATUS_READY = 2;
  STATUS_DELIVERING = 3;
  STATUS_DELIVERED = 4;
  STATUS_CANCELLED = 5;
}

message CreateOrderRequest {
  string request_id = 1;
  string user_id = 2;
  string darkstore_id = 3;
  OrderStatus status = 4;
  int32 total_price_kopecks = 5;
  repeated OrderItem items = 6;
}

message CreateOrderResponce {
  string order_id = 1;
}

message CancelOrderRequest {
  string order_id = 1;
}

message OrderItem {
  string product_id = 1;
  string order_id = 2;
  int32 price_kopecks = 3;
  int32 quantity = 4;
}

message SuccessResponse {
  string responce = 1;
}
